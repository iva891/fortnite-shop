(this.webpackJsonpfortnite=this.webpackJsonpfortnite||[]).push([[0],{29:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(14),r=c.n(n),s=(c(29),c(10)),i=c(8),d=c(1),l=Object(i.b)((function(e){return{cartItems:e.cart}}))((function(e){var t=e.cartItems;return Object(d.jsx)("div",{className:"navbar-fixed",children:Object(d.jsx)("nav",{className:" lime darken-1 z-depth-2",children:Object(d.jsxs)("div",{className:"nav-wrapper",children:[Object(d.jsx)("ul",{id:"nav-mobile",className:"left hide-on-med-and-down",children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/iva891/fortnite-dev",target:"_blank",children:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043d\u0430 Github"})})}),Object(d.jsxs)(s.b,{to:"/",className:"brand-logo center",children:[Object(d.jsx)("i",{className:"material-icons",children:"blur_on"}),Object(d.jsx)("span",{children:"Fortnite shop"})]}),Object(d.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/cart",children:Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("span",{children:0===t.length?"":t.length}),Object(d.jsx)("i",{className:"material-icons",children:"shopping_cart"})]})})})})]})})})})),o=function(){return Object(d.jsx)("footer",{className:"page-footer lime darken-1",children:Object(d.jsx)("div",{className:"footer-copyright",children:Object(d.jsxs)("div",{className:"container",children:["\xa9 2014 Copyright Text",Object(d.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/iva891/fortnite-dev",target:"_blank",children:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043d\u0430 Github"})]})})})},j=c(4),b=function(){return Object(d.jsx)("div",{className:"progress",children:Object(d.jsx)("div",{className:"indeterminate"})})},u="shop/setGoods",m="shop/setLoading",h="goodsItem/addCartItem",O="goodsItem/increaseCartItem",x="cart/decreaseCartItem",p="cart/removeCartItem",f="cart/deleteAllItems",g=function(e){return{type:O,payload:e}},v=Object(i.b)((function(e){return{goods:e.goods,cartItems:e.cart}}),(function(e){return{addCartItem:function(t,c){return e(function(e,t){return{type:h,id:e,price:t}}(t,c))},increaseCartItem:function(t){return e(g(t))}}}))((function(e){var t=e.item,c=e.addCartItem,n=e.increaseCartItem,r=e.cartItems,s=Object(a.useRef)();return Object(d.jsx)("div",{className:"col s12 m7",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-image",children:Object(d.jsx)("img",{src:t.granted[0].images.background,alt:t.displayName})}),Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("span",{className:"card-title",children:t.displayName}),Object(d.jsx)("p",{children:t.granted[0].description}),Object(d.jsxs)("h5",{className:"card-price",children:[t.price.regularPrice," \u20bd"]}),Object(d.jsx)("div",{className:"success-block",ref:s,children:Object(d.jsx)("h4",{children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})]}),Object(d.jsx)("div",{className:"card-action valign-wrapper",children:Object(d.jsx)("a",{className:"waves-effect waves-light btn",onClick:function(){r.find((function(e){return e.id===t.mainId}))?n(t.mainId):c(t.mainId,t.price.regularPrice),s.current.classList.add("success-block-show"),setTimeout((function(){return s.current.classList.remove("success-block-show")}),1e3)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})})),N=function(e){var t=e.goods,c=void 0===t?[]:t;return 0===c.length?Object(d.jsx)("h2",{children:"\u0422\u043e\u0432\u0430\u0440\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}):Object(d.jsx)("div",{className:"goods",children:c.map((function(e){return Object(d.jsx)(v,{item:e},e.mainId)}))})},y=Object(i.b)((function(e){return{goods:e.goods,loading:e.loading}}),(function(e){return{loadGoods:function(t){return e({type:u,payload:t})},setLoading:function(t){return e({type:m,payload:t})}}}))((function(e){e.setQuantity;var t=e.loadGoods,c=e.goods,n=e.loading,r=e.setLoading;return Object(a.useEffect)((function(){fetch("https://fortniteapi.io/v2/shop?lang=ru",{headers:{Authorization:"fdb98852-a078e1ad-547a870e-18c7b8e8"}}).then((function(e){return e.json()})).then((function(e){e.shop&&t(e.shop),r(!1)}))}),[]),Object(d.jsx)(s.a,{basename:"/fortnite-shop",children:Object(d.jsx)("main",{className:"App-header container content",children:Object(d.jsx)(j.c,{children:Object(d.jsx)(j.a,{path:"/",exact:!0,children:n?Object(d.jsx)(b,{}):Object(d.jsx)(N,{goods:c})})})})})})),I=Object(i.b)((function(e){return{goods:e.goods,cartItems:e.cart}}),(function(e){return{increaseCartItem:function(t){return e(g(t))},decreaseCartItem:function(t){return e({type:x,payload:t})},removeCartItem:function(t){return e({type:p,payload:t})}}}))((function(e){var t=e.goods,c=e.item,a=e.increaseCartItem,n=e.decreaseCartItem,r=e.removeCartItem,s=t.find((function(e){return e.mainId===c.id}));return Object(d.jsxs)("li",{className:"collection-item avatar",children:[Object(d.jsx)("img",{src:s.granted[0].images.background,alt:s.displayName,className:"circle"}),Object(d.jsxs)("div",{className:"title-item",children:[Object(d.jsx)("span",{className:"title",children:s.displayName}),Object(d.jsxs)("p",{className:"cart-price",children:[s.price.regularPrice," \u20bd"]})]}),Object(d.jsxs)("div",{className:"value-item",children:[Object(d.jsx)("i",{className:"material-icons ".concat(c.quantity<=1?"dis-button grey-text text-lighten-2":"grey-text\n          text-darken-2"),onClick:function(){c.quantity>1&&n(s.mainId)},children:"indeterminate_check_box"}),Object(d.jsx)("span",{className:"value-quantity",children:c.quantity}),Object(d.jsx)("i",{className:"material-icons grey-text text-darken-2",onClick:function(){a(s.mainId)},children:"add_box"})]}),Object(d.jsx)("a",{className:"secondary-content delete-icon red-text text-darken-2",onClick:function(){r(s.mainId)},children:Object(d.jsx)("i",{className:"material-icons",children:"delete_forever"})})]})})),k=Object(i.b)((function(e){return{cartItems:e.cart}}),(function(e){return{clearCart:function(){return e({type:f})}}}))((function(e){var t,c=e.cartItems,a=e.clearCart,n=0;return Object(d.jsxs)("main",{className:"container",children:[Object(d.jsx)("div",{children:Object(d.jsxs)(s.b,{to:"/",className:"back-block teal-text",children:[Object(d.jsx)("i",{className:"material-icons back-block__arrow",children:"arrow_back"}),Object(d.jsx)("span",{className:"back-block__text",children:"\u041d\u0430\u0437\u0430\u0434"})]})}),c.length?Object(d.jsxs)("div",{children:[Object(d.jsx)("ul",{className:"collection",children:c.map((function(e){return Object(d.jsx)(I,{item:e},e.id)}))}),Object(d.jsxs)("p",{className:"result-cart",children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",Object(d.jsxs)("span",{className:"result-price",children:[(t=c,t.map((function(e){n+=e.price*e.quantity})),n)," \u20bd"]})]}),Object(d.jsxs)("div",{className:"cart-btns",children:[Object(d.jsx)("a",{className:"waves-effect waves-light btn",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(d.jsx)("a",{className:"waves-effect waves-light btn offset-s6 red darken-2",onClick:a,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]}):Object(d.jsx)("h3",{children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]})})),C=function(){return Object(d.jsxs)(s.a,{basename:"/fortnite-shop",children:[Object(d.jsx)(l,{}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{path:"/",exact:!0,children:Object(d.jsx)(y,{})}),Object(d.jsx)(j.a,{path:"/cart",exact:!0,children:Object(d.jsx)(k,{})})]}),Object(d.jsx)(o,{})]})},w=c(24),_=c(3),q={goods:[],loading:!0,cart:[]},G=c(23),L=c(12),A=Object(L.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(_.a)(Object(_.a)({},e),{},{goods:t.payload});case m:return Object(_.a)(Object(_.a)({},e),{},{loading:t.payload});case h:return Object(_.a)(Object(_.a)({},e),{},{cart:[].concat(Object(w.a)(e.cart),[{id:t.id,quantity:1,price:t.price}])});case O:return Object(_.a)(Object(_.a)({},e),{},{cart:e.cart.map((function(e){return e.id===t.payload?Object(_.a)(Object(_.a)({},e),{},{quantity:e.quantity+1}):Object(_.a)({},e)}))});case x:return Object(_.a)(Object(_.a)({},e),{},{cart:e.cart.map((function(e){return e.id===t.payload?Object(_.a)(Object(_.a)({},e),{},{quantity:e.quantity-1}):Object(_.a)({},e)}))});case p:return Object(_.a)(Object(_.a)({},e),{},{cart:e.cart.splice(0,e.cart.findIndex((function(e){return e.id===t.payload}))).concat(e.cart.splice(e.cart.findIndex((function(e){return e.id===t.payload}))+1,e.cart.length-1))});case f:return Object(_.a)(Object(_.a)({},e),{},{cart:[]});default:return Object(_.a)({},e)}}),Object(G.composeWithDevTools)());r.a.render(Object(d.jsx)(i.a,{store:A,children:Object(d.jsx)(C,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.6ff7acbf.chunk.js.map