{"version":3,"sources":["components/header.jsx","components/footer.jsx","components/preloader.jsx","store/action.js","components/goods-item.jsx","components/goods-list.jsx","components/shop.jsx","config.js","components/cart-element.jsx","components/cart.jsx","App.js","store/reducer.js","index.js"],"names":["connect","state","cartItems","cart","className","id","href","target","to","style","display","length","Footer","Preloader","ActionType","increaseCartItem","payload","type","goods","dispatch","addCartItem","price","item","success","useRef","src","granted","images","background","alt","displayName","description","regularPrice","ref","onClick","find","elem","mainId","current","classList","add","setTimeout","remove","GoodsList","map","loading","loadGoods","setLoading","status","setQuantity","useEffect","fetch","headers","Authorization","then","response","json","data","shop","basename","path","exact","decreaseCartItem","removeCartItem","cartItem","quantity","clearCart","items","resPrice","App","initialState","store","createStore","action","splice","findIndex","concat","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6ff7acbf.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst Header = ({cartItems}) => {\r\n    return (\r\n        <div className=\"navbar-fixed\">\r\n          <nav className=\" lime darken-1 z-depth-2\">\r\n            <div className=\"nav-wrapper\">\r\n              <ul id=\"nav-mobile\" className=\"left hide-on-med-and-down\">\r\n                <li><a href=\"https://github.com/iva891/fortnite-dev\" target=\"_blank\">Репозиторий проекта на Github</a></li>\r\n              </ul>\r\n              <Link to=\"/\" className=\"brand-logo center\">\r\n              <i className=\"material-icons\">blur_on</i>\r\n              <span>Fortnite shop</span>\r\n              </Link>\r\n              <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                <li>\r\n                  <Link to=\"/cart\">\r\n                  <div style={{display: `flex`}}>\r\n                    <span>{cartItems.length === 0 ? `` : cartItems.length}</span>\r\n                    <i className=\"material-icons\">shopping_cart</i>\r\n                  </div>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cartItems: state.cart,\r\n});\r\n\r\nexport {Header};\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"page-footer lime darken-1\">\r\n          <div className=\"footer-copyright\">\r\n            <div className=\"container\">\r\n              © 2014 Copyright Text\r\n              <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/iva891/fortnite-dev\" target=\"_blank\">Репозиторий проекта на Github</a>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","export const ActionType = {\r\n  SET_GOODS: `shop/setGoods`,\r\n  SET_LOADING: `shop/setLoading`,\r\n  ADD_CART_ITEM: `goodsItem/addCartItem`,\r\n  INCREASE_CART_ITEM: `goodsItem/increaseCartItem`,\r\n  DECREASE_CART_ITEM: `cart/decreaseCartItem`,\r\n  REMOVE_CART_ITEM: `cart/removeCartItem`,\r\n  DELETE_ALL_ITEMS: `cart/deleteAllItems`,\r\n};\r\n\r\nexport const setGoods = (payload) => ({ type: ActionType.SET_GOODS,  payload});\r\nexport const setLoading = (payload) => ({type: ActionType.SET_LOADING, payload});\r\nexport const addCartItem = (id, price) => ({type: ActionType.ADD_CART_ITEM, id, price});\r\nexport const increaseCartItem = (payload) => ({type: ActionType.INCREASE_CART_ITEM, payload});\r\nexport const decreaseCartItem = (payload) => ({type: ActionType.DECREASE_CART_ITEM, payload});\r\nexport const removeCartItem = (payload) => ({type: ActionType.REMOVE_CART_ITEM, payload});\r\nexport const deleteAllItems = () => ({type: ActionType.DELETE_ALL_ITEMS});\r\n","import React, {useRef} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {addCartItem, increaseCartItem} from '../store/action';\r\n\r\nconst GoodsItem = ({item, addCartItem, increaseCartItem, cartItems}) => {\r\n\r\n    const success = useRef();\r\n\r\n    const showSuccess = () => {\r\n        success.current.classList.add(`success-block-show`);\r\n        setTimeout(() => success.current.classList.remove(`success-block-show`), 1000);\r\n    }\r\n\r\n    const addToCart = () => {\r\n        if (cartItems.find(elem => elem.id === item.mainId)) {\r\n            increaseCartItem(item.mainId);\r\n        } else {\r\n            addCartItem(item.mainId, item.price.regularPrice);\r\n        }\r\n\r\n        showSuccess();\r\n    };\r\n\r\n    return (\r\n        <div className=\"col s12 m7\">\r\n            <div className=\"card\">\r\n                <div className=\"card-image\">\r\n                    <img src={item.granted[0].images.background} alt={item.displayName} />\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <span className=\"card-title\">{item.displayName}</span>\r\n                    <p>{item.granted[0].description}</p>\r\n                    <h5 className=\"card-price\">{item.price.regularPrice} ₽</h5>\r\n                    <div className=\"success-block\" ref={success}>\r\n                        <h4>Товар добавлен в корзину</h4>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-action valign-wrapper\">\r\n                    <a className=\"waves-effect waves-light btn\" onClick={addToCart}>Купить</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    goods: state.goods,\r\n    cartItems: state.cart,\r\n  });\r\n  \r\nconst mapDispatchToProps = (dispatch) => ({\r\n    addCartItem: (id, price) => dispatch(addCartItem(id, price)),\r\n    increaseCartItem: (id) => dispatch(increaseCartItem(id)),\r\n});\r\n\r\nexport {GoodsItem};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GoodsItem);","import React from 'react';\r\nimport GoodsItem from './goods-item';\r\n\r\nconst GoodsList = ({goods = []}) => {\r\n\r\n    if (goods.length === 0) {\r\n        return (<h2>Товары отсутствуют</h2>);\r\n    }\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {goods.map((item) =>\r\n                <GoodsItem item={item} key={item.mainId} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GoodsList;","import React, {useEffect} from 'react';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport {API_KEY, API_URL} from '../config';\r\nimport Preloader from './preloader';\r\nimport GoodsList from './goods-list';\r\nimport {setGoods, setLoading} from '../store/action';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nconst Shop = ({setQuantity, loadGoods, goods, loading, setLoading}) => {\r\n\r\n    useEffect(() => {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        }).then(response => response.json())\r\n            .then(data => {\r\n                data.shop && loadGoods(data.shop);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <Router  basename=\"/fortnite-shop\">\r\n            <main className=\"App-header container content\">\r\n                <Switch>\r\n                    <Route path=\"/\" exact>\r\n                        {loading ?\r\n                        <Preloader /> :\r\n                        <GoodsList goods={goods} />\r\n                        }\r\n                    </Route>\r\n                </Switch>\r\n            </main>\r\n        </Router>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    goods: state.goods,\r\n    loading: state.loading,\r\n  });\r\n  \r\nconst mapDispatchToProps = (dispatch) => ({\r\n    loadGoods: (goods) => dispatch(setGoods(goods)),\r\n    setLoading: (status) => dispatch(setLoading(status)),\r\n});\r\n\r\nexport {Shop};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Shop);\r\n","const API_KEY = `fdb98852-a078e1ad-547a870e-18c7b8e8`;\r\nconst API_URL = `https://fortniteapi.io/v2/shop?lang=ru`;\r\n\r\nexport {API_KEY, API_URL};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {increaseCartItem, decreaseCartItem, removeCartItem} from '../store/action';\r\n\r\nconst CartElement = ({goods, item, increaseCartItem, decreaseCartItem, removeCartItem}) => {\r\n\r\n  const cartItem = goods.find((elem) => elem.mainId === item.id);\r\n\r\n  const increaseItem =() => {\r\n    increaseCartItem(cartItem.mainId);\r\n  };\r\n\r\n  const decreaseItem = () => {\r\n    if (item.quantity > 1) {\r\n      decreaseCartItem(cartItem.mainId);\r\n    }\r\n  };\r\n\r\n  const removeItem = () => {\r\n    removeCartItem(cartItem.mainId);\r\n  };\r\n\r\n  return (\r\n    <li className=\"collection-item avatar\">\r\n      <img src={cartItem.granted[0].images.background} alt={cartItem.displayName} className=\"circle\" />\r\n      <div className=\"title-item\">\r\n        <span className=\"title\">{cartItem.displayName}</span>\r\n        <p className=\"cart-price\">{cartItem.price.regularPrice} ₽</p>\r\n      </div>\r\n      <div className=\"value-item\">\r\n        <i className={`material-icons ${item.quantity <=1 ? `dis-button grey-text text-lighten-2` : `grey-text\r\n          text-darken-2`}`} onClick={decreaseItem}>indeterminate_check_box</i>\r\n        <span className=\"value-quantity\">{item.quantity}</span>\r\n        <i className=\"material-icons grey-text text-darken-2\" onClick={increaseItem}>add_box</i>\r\n      </div>\r\n      <a className=\"secondary-content delete-icon red-text text-darken-2\" onClick={removeItem}><i\r\n          className=\"material-icons\">delete_forever</i></a>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  goods: state.goods,\r\n  cartItems: state.cart,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  increaseCartItem: (id) => dispatch(increaseCartItem(id)),\r\n  decreaseCartItem: (id) => dispatch(decreaseCartItem(id)),\r\n  removeCartItem: (id) => dispatch(removeCartItem(id)),\r\n});\r\n\r\nexport {CartElement};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartElement);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport CartElement from './cart-element';\r\nimport {deleteAllItems} from '../store/action';\r\n\r\nconst Cart = ({cartItems, clearCart}) => {\r\n\r\n  let resPrice = 0;\r\n\r\n  const sumItemsPrice = (items) => {\r\n    items.map((item) => {\r\n      resPrice = resPrice + (item.price * item.quantity);\r\n    });\r\n    return resPrice;\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <div>\r\n        <Link to=\"/\" className=\"back-block teal-text\">\r\n        <i className=\"material-icons back-block__arrow\">arrow_back</i>\r\n        <span className=\"back-block__text\">Назад</span>\r\n        </Link>\r\n      </div>\r\n      {!cartItems.length ?\r\n      <h3>В корзине нет товаров</h3> :\r\n      <div>\r\n        <ul className=\"collection\">\r\n          {cartItems.map((item) =>\r\n          <CartElement key={item.id} item={item} />\r\n          )}\r\n        </ul>\r\n        <p className=\"result-cart\">Сумма заказа: <span className=\"result-price\">{sumItemsPrice(cartItems)} ₽</span></p>\r\n        <div className=\"cart-btns\">\r\n          <a className=\"waves-effect waves-light btn\">Оформить заказ</a>\r\n          <a className=\"waves-effect waves-light btn offset-s6 red darken-2\" onClick={clearCart}>Очистить корзину</a>\r\n        </div>\r\n      </div>\r\n      }\r\n    </main>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cartItems: state.cart,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  clearCart: () => dispatch(deleteAllItems()),\r\n});\r\n\r\nexport {Cart};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","import Header from './components/header';\nimport Footer from './components/footer';\nimport Shop from './components/shop';\nimport Cart from './components/cart';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nconst App = () => {\n\n  return (\n    <Router basename=\"/fortnite-shop\">\n      <Header />\n      <Switch>\n      <Route path=\"/\" exact >\n        <Shop />\n      </Route>\n      <Route path=\"/cart\" exact >\n        <Cart />\n      </Route>\n      </Switch>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","import {ActionType} from './action';\r\n\r\nconst initialState = {\r\n  goods: [],\r\n  loading: true,\r\n  cart: [],\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ActionType.SET_GOODS:\r\n      return {\r\n        ...state,\r\n        goods: action.payload\r\n      };\r\n    case ActionType.SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case ActionType.ADD_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cart: [\r\n          ...state.cart,\r\n          {\r\n            id: action.id, \r\n            quantity: 1,\r\n            price: action.price\r\n          },\r\n        ]\r\n      };\r\n    case ActionType.INCREASE_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((item) => (\r\n          item.id === action.payload ?\r\n          {\r\n          ...item, \r\n          quantity: item.quantity + 1\r\n        } :\r\n        {\r\n          ...item\r\n        })),\r\n      };\r\n    case ActionType.DECREASE_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((item) => (\r\n          item.id === action.payload ?\r\n          {\r\n          ...item, \r\n          quantity: item.quantity - 1\r\n        } :\r\n        {\r\n          ...item\r\n        })),\r\n      };\r\n    case ActionType.REMOVE_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.splice(0, state.cart.findIndex(elem => elem.id === action.payload))\r\n              .concat(state.cart.splice(state.cart.findIndex((elem) => (elem.id === action.payload)) + 1, state.cart.length - 1)),\r\n      };\r\n    case ActionType.DELETE_ALL_ITEMS:\r\n      return {\r\n        ...state,\r\n        cart: [],\r\n      };\r\n    default:\r\n      return {...state};\r\n  }\r\n};\r\n\r\nexport {reducer};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport {Provider} from 'react-redux';\nimport {reducer} from './store/reducer';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport {createStore} from 'redux';\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}